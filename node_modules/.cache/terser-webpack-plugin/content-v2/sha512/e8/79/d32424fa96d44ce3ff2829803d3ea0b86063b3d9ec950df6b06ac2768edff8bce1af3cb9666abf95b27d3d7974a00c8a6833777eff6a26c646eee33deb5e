{"code":"(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{65:function(e,n,s){},66:function(e,n,s){\"use strict\";s.r(n);var t=s(1),o=s.n(t),i=s(12),r=s.n(i),c=(s(21),s(13)),u=s(14),a=s(16),d=s(15),l=s(3),b=s(0),h=function(e){Object(a.a)(s,e);var n=Object(d.a)(s);function s(e){var t;return Object(c.a)(this,s),(t=n.call(this,e)).onSessionError=function(e){t.setState({error:e})},t.onPublish=function(){console.log(\"Publish Success\")},t.onPublishError=function(e){t.setState({error:e})},t.onSubscribe=function(){console.log(\"Subscribe Success\")},t.onSubscribeError=function(e){t.setState({error:e})},t.toggleVideo=function(){t.setState((function(e){return{publishVideo:!e.publishVideo}}))},t.state={error:null,connection:\"Connecting\",publishVideo:!0},t.sessionEventHandlers={sessionConnected:function(){t.setState({connection:\"Connected\"})},sessionDisconnected:function(){t.setState({connection:\"Disconnected\"})},sessionReconnected:function(){t.setState({connection:\"Reconnected\"})},sessionReconnecting:function(){t.setState({connection:\"Reconnecting\"})}},t.publisherEventHandlers={accessDenied:function(){console.log(\"User denied access to media source\")},streamCreated:function(){console.log(\"Publisher stream created\")},streamDestroyed:function(e){var n=e.reason;console.log(\"Publisher stream destroyed because: \".concat(n))}},t.subscriberEventHandlers={videoEnabled:function(){console.log(\"Subscriber video enabled\")},videoDisabled:function(){console.log(\"Subscriber video disabled\")}},t}return Object(u.a)(s,[{key:\"render\",value:function(){var e=this.props.credentials,n=e.apiKey,s=e.sessionId,t=e.token,o=this.state,i=o.error,r=o.connection,c=o.publishVideo;return Object(b.jsxs)(\"div\",{children:[Object(b.jsxs)(\"div\",{id:\"sessionStatus\",children:[\"Session Status: \",r]}),i?Object(b.jsxs)(\"div\",{className:\"error\",children:[Object(b.jsx)(\"strong\",{children:\"Error:\"}),\" \",i]}):null,Object(b.jsxs)(l.OTSession,{apiKey:n,sessionId:s,token:t,onError:this.onSessionError,eventHandlers:this.sessionEventHandlers,children:[Object(b.jsxs)(\"button\",{id:\"videoButton\",onClick:this.toggleVideo,children:[c?\"Disable\":\"Enable\",\" Video\"]}),Object(b.jsx)(l.OTPublisher,{properties:{publishVideo:c,width:50,height:50},onPublish:this.onPublish,onError:this.onPublishError,eventHandlers:this.publisherEventHandlers}),Object(b.jsx)(l.OTStreams,{children:Object(b.jsx)(l.OTSubscriber,{properties:{width:100,height:100},onSubscribe:this.onSubscribe,onError:this.onSubscribeError,eventHandlers:this.subscriberEventHandlers})})]})]})}}]),s}(o.a.Component);s(65);fetch(\"https://videosstream.herokuapp.com/session\").then((function(e){return e.json()})).then((function(e){r.a.render(Object(b.jsx)(h,{credentials:e}),document.getElementById(\"root\"))})).catch((function(e){console.error(\"Failed to get session credentials\",e),alert(\"Failed to get opentok sessionId and token. Make sure you have updated the config.js file.\")}))}},[[66,1,2]]]);","name":"static/js/main.6c2f8103.chunk.js","map":{"version":3,"sources":["static/js/main.6c2f8103.chunk.js"],"names":["this","push","65","module","exports","__webpack_require__","66","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","dist","jsx_runtime","App_App","_React$Component","Object","App","_super","props","_this","call","onSessionError","error","setState","onPublish","console","log","onPublishError","onSubscribe","onSubscribeError","toggleVideo","state","publishVideo","connection","sessionEventHandlers","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","publisherEventHandlers","accessDenied","streamCreated","streamDestroyed","_ref","reason","concat","subscriberEventHandlers","videoEnabled","videoDisabled","key","value","_this$props$credentia","credentials","apiKey","sessionId","token","_this$state","children","id","className","onError","eventHandlers","onClick","properties","width","height","a","Component","fetch","SAMPLE_SERVER_BASE_URL","then","data","json","render","document","getElementById","catch","err","alert"],"mappings":"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"},"input":"(this[\"webpackJsonptest\"] = this[\"webpackJsonptest\"] || []).push([[0],{\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(12);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@opentok/client/dist/js/opentok.js\nvar opentok = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/opentok-react/dist/index.js\nvar dist = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.onSessionError=function(error){_this.setState({error:error});};_this.onPublish=function(){console.log('Publish Success');};_this.onPublishError=function(error){_this.setState({error:error});};_this.onSubscribe=function(){console.log('Subscribe Success');};_this.onSubscribeError=function(error){_this.setState({error:error});};_this.toggleVideo=function(){_this.setState(function(state){return{publishVideo:!state.publishVideo};});};_this.state={error:null,connection:'Connecting',publishVideo:true};_this.sessionEventHandlers={sessionConnected:function sessionConnected(){_this.setState({connection:'Connected'});},sessionDisconnected:function sessionDisconnected(){_this.setState({connection:'Disconnected'});},sessionReconnected:function sessionReconnected(){_this.setState({connection:'Reconnected'});},sessionReconnecting:function sessionReconnecting(){_this.setState({connection:'Reconnecting'});}};_this.publisherEventHandlers={accessDenied:function accessDenied(){console.log('User denied access to media source');},streamCreated:function streamCreated(){console.log('Publisher stream created');},streamDestroyed:function streamDestroyed(_ref){var reason=_ref.reason;console.log(\"Publisher stream destroyed because: \".concat(reason));}};_this.subscriberEventHandlers={videoEnabled:function videoEnabled(){console.log('Subscriber video enabled');},videoDisabled:function videoDisabled(){console.log('Subscriber video disabled');}};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){var _this$props$credentia=this.props.credentials,apiKey=_this$props$credentia.apiKey,sessionId=_this$props$credentia.sessionId,token=_this$props$credentia.token;var _this$state=this.state,error=_this$state.error,connection=_this$state.connection,publishVideo=_this$state.publishVideo;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"sessionStatus\",children:[\"Session Status: \",connection]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"error\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Error:\"}),\" \",error]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"OTSession\"],{apiKey:apiKey,sessionId:sessionId,token:token,onError:this.onSessionError,eventHandlers:this.sessionEventHandlers,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{id:\"videoButton\",onClick:this.toggleVideo,children:[publishVideo?'Disable':'Enable',\" Video\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"OTPublisher\"],{properties:{publishVideo:publishVideo,width:50,height:50},onPublish:this.onPublish,onError:this.onPublishError,eventHandlers:this.publisherEventHandlers}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"OTStreams\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"OTSubscriber\"],{properties:{width:100,height:100},onSubscribe:this.onSubscribe,onError:this.onSubscribeError,eventHandlers:this.subscriberEventHandlers})})]})]});}}]);return App;}(react_default.a.Component);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(65);\n\n// CONCATENATED MODULE: ./src/config.js\n// Make a copy of this file and save it as config.js (in the src directory).\n// Set this to the base URL of your sample server, such as 'https://your-app-name.herokuapp.com'.\n// Do not include the trailing slash. See the README for more information:\nvar SAMPLE_SERVER_BASE_URL='https://videosstream.herokuapp.com';// OR, if you have not set up a web server that runs the learning-opentok-php code,\n// set these values to OpenTok API key, a valid session ID, and a token for the session.\n// For test purposes, you can obtain these from https://tokbox.com/account.\n// const API_KEY = '47231764';\n// const SESSION_ID = '2_MX40NzIzMTc2NH5-MTYyMTI3NDY0ODQwNn45NUh4TkhXMVlWYXg1SWxuZUdpNzFzcWx-fg';\n// const TOKEN = 'T1==cGFydG5lcl9pZD00NzIzMTc2NCZzaWc9ZDRjMzMzYTFkMTIwMDY4NTlhZjcwMjZkNDNjYjUxM2I2MDQ1MzIzNjpzZXNzaW9uX2lkPTJfTVg0ME56SXpNVGMyTkg1LU1UWXlNVEkzTkRZME9EUXdObjQ1TlVoNFRraFhNVmxXWVhnMVNXeHVaVWRwTnpGemNXeC1mZyZjcmVhdGVfdGltZT0xNjIxMjc0Njk0Jm5vbmNlPTAuMTU4OTE0NzA4NzA5NDc5MSZyb2xlPXB1Ymxpc2hlciZleHBpcmVfdGltZT0xNjIzODY2Njk0JmluaXRpYWxfbGF5b3V0X2NsYXNzX2xpc3Q9';\n\n// CONCATENATED MODULE: ./src/index.js\nfunction renderApp(credentials){react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{credentials:credentials}),document.getElementById('root'));}fetch(SAMPLE_SERVER_BASE_URL+'/session').then(function(data){return data.json();}).then(renderApp).catch(function(err){console.error('Failed to get session credentials',err);alert('Failed to get opentok sessionId and token. Make sure you have updated the config.js file.');});\n\n/***/ })\n\n},[[66,1,2]]]);","inputSourceMap":{"version":3,"sources":["E:\\StreamTest3\\test\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!E:\\StreamTest3\\test\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!E:\\StreamTest3\\test\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\StreamTest3\\test\\src\\index.css","E:/StreamTest3/test/src/App.js","E:/StreamTest3/test/src/config.js","E:/StreamTest3/test/src/index.js"],"names":["App","props","onSessionError","error","setState","onPublish","console","log","onPublishError","onSubscribe","onSubscribeError","toggleVideo","state","publishVideo","connection","sessionEventHandlers","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","publisherEventHandlers","accessDenied","streamCreated","streamDestroyed","reason","subscriberEventHandlers","videoEnabled","videoDisabled","credentials","apiKey","sessionId","token","width","height","React","Component","SAMPLE_SERVER_BASE_URL","renderApp","ReactDOM","render","document","getElementById","fetch","then","data","json","catch","err","alert"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react';\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      connection: 'Connecting',\n      publishVideo: true,\n    };\n\n    this.sessionEventHandlers = {\n      sessionConnected: () => {\n        this.setState({ connection: 'Connected' });\n      },\n      sessionDisconnected: () => {\n        this.setState({ connection: 'Disconnected' });\n      },\n      sessionReconnected: () => {\n        this.setState({ connection: 'Reconnected' });\n      },\n      sessionReconnecting: () => {\n        this.setState({ connection: 'Reconnecting' });\n      },\n    };\n\n    this.publisherEventHandlers = {\n      accessDenied: () => {\n        console.log('User denied access to media source');\n      },\n      streamCreated: () => {\n        console.log('Publisher stream created');\n      },\n      streamDestroyed: ({ reason }) => {\n        console.log(`Publisher stream destroyed because: ${reason}`);\n      },\n    };\n\n    this.subscriberEventHandlers = {\n      videoEnabled: () => {\n        console.log('Subscriber video enabled');\n      },\n      videoDisabled: () => {\n        console.log('Subscriber video disabled');\n      },\n    };\n  }\n\n  onSessionError = error => {\n    this.setState({ error });\n  };\n\n  onPublish = () => {\n    console.log('Publish Success');\n  };\n\n  onPublishError = error => {\n    this.setState({ error });\n  };\n\n  onSubscribe = () => {\n    console.log('Subscribe Success');\n  };\n\n  onSubscribeError = error => {\n    this.setState({ error });\n  };\n\n  toggleVideo = () => {\n    this.setState(state => ({\n      publishVideo: !state.publishVideo,\n    }));\n  };\n\n  render() {\n    const { apiKey, sessionId, token } = this.props.credentials;\n    const { error, connection, publishVideo } = this.state;\n    return (\n      <div>\n        <div id=\"sessionStatus\">Session Status: {connection}</div>\n        {error ? (\n          <div className=\"error\">\n            <strong>Error:</strong> {error}\n          </div>\n        ) : null}\n        <OTSession\n          apiKey={apiKey}\n          sessionId={sessionId}\n          token={token}\n          onError={this.onSessionError}\n          eventHandlers={this.sessionEventHandlers}\n        >\n          <button id=\"videoButton\" onClick={this.toggleVideo}>\n            {publishVideo ? 'Disable' : 'Enable'} Video\n          </button>\n          <OTPublisher\n            properties={{ publishVideo, width: 50, height: 50, }}\n            onPublish={this.onPublish}\n            onError={this.onPublishError}\n            eventHandlers={this.publisherEventHandlers}\n          />\n          <OTStreams>\n            <OTSubscriber\n              properties={{ width: 100, height: 100 }}\n              onSubscribe={this.onSubscribe}\n              onError={this.onSubscribeError}\n              eventHandlers={this.subscriberEventHandlers}\n            />\n          </OTStreams>\n        </OTSession>\n      </div>\n    );\n  }\n}\n","// Make a copy of this file and save it as config.js (in the src directory).\r\n\r\n// Set this to the base URL of your sample server, such as 'https://your-app-name.herokuapp.com'.\r\n// Do not include the trailing slash. See the README for more information:\r\n\r\nconst SAMPLE_SERVER_BASE_URL = 'https://videosstream.herokuapp.com';\r\n\r\n// OR, if you have not set up a web server that runs the learning-opentok-php code,\r\n// set these values to OpenTok API key, a valid session ID, and a token for the session.\r\n// For test purposes, you can obtain these from https://tokbox.com/account.\r\n\r\n// const API_KEY = '47231764';\r\n// const SESSION_ID = '2_MX40NzIzMTc2NH5-MTYyMTI3NDY0ODQwNn45NUh4TkhXMVlWYXg1SWxuZUdpNzFzcWx-fg';\r\n// const TOKEN = 'T1==cGFydG5lcl9pZD00NzIzMTc2NCZzaWc9ZDRjMzMzYTFkMTIwMDY4NTlhZjcwMjZkNDNjYjUxM2I2MDQ1MzIzNjpzZXNzaW9uX2lkPTJfTVg0ME56SXpNVGMyTkg1LU1UWXlNVEkzTkRZME9EUXdObjQ1TlVoNFRraFhNVmxXWVhnMVNXeHVaVWRwTnpGemNXeC1mZyZjcmVhdGVfdGltZT0xNjIxMjc0Njk0Jm5vbmNlPTAuMTU4OTE0NzA4NzA5NDc5MSZyb2xlPXB1Ymxpc2hlciZleHBpcmVfdGltZT0xNjIzODY2Njk0JmluaXRpYWxfbGF5b3V0X2NsYXNzX2xpc3Q9';\r\n\r\nexport {\r\n  SAMPLE_SERVER_BASE_URL\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@opentok/client';\n\nimport App from './App';\nimport './index.css';\n\nimport {\n  SAMPLE_SERVER_BASE_URL\n} from './config';\n\nfunction renderApp(credentials) {\n  ReactDOM.render(\n    <App credentials={credentials} />,\n    document.getElementById('root')\n  );\n}\n\n\n  fetch(SAMPLE_SERVER_BASE_URL + '/session')\n    .then(data => data.json())\n    .then(renderApp)\n    .catch((err) => {\n      console.error('Failed to get session credentials', err);\n      alert('Failed to get opentok sessionId and token. Make sure you have updated the config.js file.');\n    });\n\n"]}}